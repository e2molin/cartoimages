(this.webpackJsonpcartoimages=this.webpackJsonpcartoimages||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var c="IjmmViOE2rq5nh9jplq6JWU32Dcak2Ju",r="https://api.giphy.com/v1"},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(8),s=n.n(i),a=(n(14),n(15),n(2)),o=n(3),j=(n(16),n(0));function l(e){var t=e.title,n=e.id,c=e.url;return Object(j.jsx)("div",{className:"Gif",children:Object(j.jsxs)(o.a,{to:"/gif/".concat(n),className:"Gif-link",children:[Object(j.jsx)("h4",{children:t}),Object(j.jsx)("img",{loading:"lazy",alt:t,src:c})]})})}n(18);function u(e){var t=e.gifs;return Object(j.jsx)("div",{className:"ListOfGifs",children:t.map((function(e){var t=e.id,n=e.title,c=e.url;return Object(j.jsx)(l,{id:t,title:n,url:c},t)}))})}var d=n(7),b=function(e){var t=e.data,n=void 0===t?[]:t;return Array.isArray(n)?n.map((function(e){var t=e.images;return{title:e.title,id:e.id,url:t.downsized_medium.url}})):[]};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?25:t,c=e.keyword,r=void 0===c?"morty":c,i=e.page,s=void 0===i?0:i,a="".concat(d.b,"/gifs/search?api_key=").concat(d.a,"&q=").concat(r,"&limit=").concat(n,"&offset=").concat(s*n,"&rating=G&lang=en");return fetch(a).then((function(e){return e.json()})).then(b)}var O=r.a.createContext({});function h(e){var t=e.children,n=Object(c.useState)([]),r=Object(a.a)(n,2),i=r[0],s=r[1];return Object(j.jsx)(O.Provider,{value:{gifs:i,setGifs:s},children:t})}var v=O;function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keyword:null},t=e.keyword,n=Object(c.useState)(!1),r=Object(a.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(!1),j=Object(a.a)(o,2),l=j[0],u=j[1],d=Object(c.useState)(0),b=Object(a.a)(d,2),O=b[0],h=b[1],m=Object(c.useContext)(v),g=m.gifs,x=m.setGifs,p=t||localStorage.getItem("lastKeyword")||"random";return Object(c.useEffect)((function(){s(!0),f({keyword:p}).then((function(e){x(e),s(!1),localStorage.setItem("lastKeyword",t)}))}),[t,p,x]),Object(c.useEffect)((function(){0!==O&&(u(!0),f({keyword:p,page:O}).then((function(e){x((function(t){return t.concat(e)})),u(!1)})))}),[p,O,x]),{loading:i,loadingNextPage:l,gifs:g,setPage:h}}n(19);function g(){return Object(j.jsxs)("div",{className:"lds-ring",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}var x=r.a.lazy((function(){return n.e(3).then(n.bind(null,23))}));function p(){var e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).distance,t=void 0===e?"100px":e,r=Object(c.useState)(!1),i=Object(a.a)(r,2),s=i[0],o=i[1],j=Object(c.useRef)();return Object(c.useEffect)((function(){var e,c=function(e,t){e[0].isIntersecting&&(o(!0),t.disconnect())};return Promise.resolve("undefined"!==typeof IntersectionObserver?IntersectionObserver:n.e(4).then(n.t.bind(null,22,7))).then((function(){(e=new IntersectionObserver(c,{rootMargin:t})).observe(j.current)})),function(){return e&&e.disconnect()}})),{isNearScreen:s,fromRef:j}}({distance:"0px"}),t=e.isNearScreen,r=e.fromRef;return Object(j.jsx)("div",{ref:r,children:Object(j.jsx)(c.Suspense,{fallback:Object(j.jsx)(g,{}),children:t?Object(j.jsx)(x,{}):Object(j.jsx)(g,{})})})}function w(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(o.c)(),s=Object(a.a)(i,2),l=(s[0],s[1]),d=m(),b=(d.loading,d.gifs);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l("/search/".concat(n))},children:[Object(j.jsx)("button",{children:"Buscar"}),Object(j.jsx)("input",{placeholder:"Search a gif here...",onChange:function(e){r(e.target.value)},type:"text",value:n})]}),Object(j.jsxs)("div",{className:"App-main",children:[Object(j.jsxs)("div",{className:"App-results",children:[Object(j.jsx)("h3",{className:"App-title",children:"\xdaltima b\xfasqueda"}),Object(j.jsx)(u,{gifs:b})]}),Object(j.jsx)("div",{className:"App-category",children:Object(j.jsx)(p,{})})]})]})}function y(e){var t=e.params.keyword,n=m({keyword:t}),c=n.loading,r=n.gifs,i=n.setPage;return Object(j.jsxs)(j.Fragment,{children:[c?Object(j.jsx)(g,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"App-title",children:decodeURI(t)}),Object(j.jsx)(u,{gifs:r})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){return i((function(e){return e+1}))},children:"Get next page"})]})}var k=n(9);function N(e){var t=e.params,n=Object(c.useContext)(v).gifs.find((function(e){return e.id===t.id}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"App-title",children:n.title}),Object(j.jsx)(l,Object(k.a)({},n))]})}var S=r.a.createContext({name:"esto-es-sin-provider",suscribeteAlCanal:!0});function A(){return Object(j.jsx)(S.Provider,{value:{name:"midudev",suscribeteAlCanal:!0},children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("section",{className:"App-content",children:[Object(j.jsx)(o.a,{to:"/",children:Object(j.jsx)("figure",{className:"App-logo",children:Object(j.jsx)("img",{alt:"Giffy logo",src:"http://www.develmap.com/img/logo.png"})})}),Object(j.jsxs)(h,{children:[Object(j.jsx)(o.b,{component:w,path:"/"}),Object(j.jsx)(o.b,{component:y,path:"/search/:keyword"}),Object(j.jsx)(o.b,{component:N,path:"/gif/:id"})]})]})})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[20,1,2]]]);
//# sourceMappingURL=main.4902d790.chunk.js.map